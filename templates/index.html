<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prédiction de Prix d'Ordinateur Portable</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .price-display {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <div class="gradient-bg text-white py-6">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center space-x-3">
                <i class="fas fa-laptop-code text-4xl"></i>
                <h1 class="text-3xl font-bold">Prédiction de Prix d'Ordinateur Portable</h1>
            </div>
            <p class="text-center mt-2 text-purple-100">Entrez les caractéristiques de votre ordinateur et obtenez une estimation de prix</p>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Form Card -->
        <div class="bg-white rounded-lg card-shadow p-8 mb-6">
            <form id="predictionForm" class="space-y-6">
                <!-- Section 1: Informations de Base -->
                <div class="border-b pb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                        Informations de Base
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Brand -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Marque <span class="text-red-500">*</span>
                            </label>
                            <select name="brand" id="brand" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez une marque</option>
                                <option value="hp">HP</option>
                                <option value="acer">Acer</option>
                                <option value="lenovo">Lenovo</option>
                                <option value="dell">Dell</option>
                                <option value="asus">Asus</option>
                                <option value="apple">Apple</option>
                                <option value="samsung">Samsung</option>
                                <option value="msi">MSI</option>
                                <option value="infinix">Infinix</option>
                                <option value="honor">Honor</option>
                                <option value="xiaomi">Xiaomi</option>
                                <option value="ultimus">Ultimus</option>
                                <option value="primebook">Primebook</option>
                                <option value="zebronics">Zebronics</option>
                                <option value="wings">Wings</option>
                            </select>
                        </div>

                        <!-- OS -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Système d'exploitation <span class="text-red-500">*</span>
                            </label>
                            <select name="OS" id="OS" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez un OS</option>
                                <option value="Windows 11 OS">Windows 11 OS</option>
                                <option value="Windows 10 OS">Windows 10 OS</option>
                                <option value="Windows 7 OS">Windows 7 OS</option>
                                <option value="Mac OS">Mac OS</option>
                                <option value="Android 11 OS">Android 11 OS</option>
                                <option value="DOS OS">DOS OS</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Section 2: Processeur -->
                <div class="border-b pb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-microchip text-green-500 mr-2"></i>
                        Processeur
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Processor -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Processeur <span class="text-red-500">*</span>
                            </label>
                            <input type="text" name="processor" id="processor" required 
                                placeholder="Ex: 12th Gen Intel Core i5 12450H"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Exemple: 12th Gen Intel Core i5 12450H</p>
                        </div>

                        <!-- CPU -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                CPU (Cores) <span class="text-red-500">*</span>
                            </label>
                            <input type="text" name="CPU" id="CPU" required 
                                placeholder="Ex: Octa Core (4P + 4E), 12 Threads"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Exemple: Octa Core (4P + 4E), 12 Threads</p>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Mémoire -->
                <div class="border-b pb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-memory text-yellow-500 mr-2"></i>
                        Mémoire
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- RAM -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                RAM <span class="text-red-500">*</span>
                            </label>
                            <select name="Ram" id="Ram" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez la RAM</option>
                                <option value="4GB">4GB</option>
                                <option value="8GB">8GB</option>
                                <option value="16GB">16GB</option>
                                <option value="32GB">32GB</option>
                            </select>
                        </div>

                        <!-- RAM Type -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Type de RAM <span class="text-red-500">*</span>
                            </label>
                            <select name="Ram_type" id="Ram_type" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez le type</option>
                                <option value="DDR4">DDR4</option>
                                <option value="DDR5">DDR5</option>
                                <option value="LPDDR4">LPDDR4</option>
                                <option value="LPDDR4X">LPDDR4X</option>
                                <option value="LPDDR5">LPDDR5</option>
                                <option value="LPDDR5X">LPDDR5X</option>
                            </select>
                        </div>

                        <!-- ROM -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Stockage (ROM) <span class="text-red-500">*</span>
                            </label>
                            <select name="ROM" id="ROM" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez le stockage</option>
                                <option value="64GB">64GB</option>
                                <option value="128GB">128GB</option>
                                <option value="256GB">256GB</option>
                                <option value="512GB">512GB</option>
                                <option value="1TB">1TB</option>
                                <option value="200GB">200GB</option>
                            </select>
                        </div>

                        <!-- ROM Type -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Type de stockage <span class="text-red-500">*</span>
                            </label>
                            <select name="ROM_type" id="ROM_type" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Sélectionnez le type</option>
                                <option value="SSD">SSD</option>
                                <option value="HDD">HDD</option>
                                <option value="Hard-Disk">Hard-Disk</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Graphiques & Affichage -->
                <div class="border-b pb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-desktop text-indigo-500 mr-2"></i>
                        Graphiques & Affichage
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- GPU -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Carte graphique (GPU) <span class="text-red-500">*</span>
                            </label>
                            <input type="text" name="GPU" id="GPU" required 
                                placeholder="Ex: 4GB NVIDIA GeForce RTX 3050"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Exemple: 4GB NVIDIA GeForce RTX 3050</p>
                        </div>

                        <!-- Display Size -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Taille d'écran (pouces) <span class="text-red-500">*</span>
                            </label>
                            <input type="number" name="display_size" id="display_size" required 
                                step="0.1" min="10" max="20" placeholder="Ex: 15.6"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                    </div>
                </div>

                <!-- Section 5: Résolution -->
                <div class="border-b pb-6">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-expand text-pink-500 mr-2"></i>
                        Résolution d'écran
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Resolution Width -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Largeur (px) <span class="text-red-500">*</span>
                            </label>
                            <input type="number" name="resolution_width" id="resolution_width" required 
                                min="1366" max="3200" placeholder="Ex: 1920"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>

                        <!-- Resolution Height -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Hauteur (px) <span class="text-red-500">*</span>
                            </label>
                            <input type="number" name="resolution_height" id="resolution_height" required 
                                min="768" max="2000" placeholder="Ex: 1080"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>

                        <!-- Spec Rating -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Note de spécification <span class="text-red-500">*</span>
                            </label>
                            <input type="number" name="spec_rating" id="spec_rating" required 
                                step="0.01" min="60" max="100" placeholder="Ex: 73.0"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            <p class="text-xs text-gray-500 mt-1">Valeur entre 60 et 100</p>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-center pt-4">
                    <button type="submit" id="submitBtn"
                        class="gradient-bg text-white px-8 py-3 rounded-lg font-semibold text-lg hover:opacity-90 transition-opacity duration-200 shadow-lg flex items-center space-x-2">
                        <i class="fas fa-calculator"></i>
                        <span>Prédire le Prix</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Result Card -->
        <div id="resultCard" class="hidden bg-white rounded-lg card-shadow p-8 price-display">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-green-400 to-green-600 mb-4">
                    <i class="fas fa-check text-white text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Prix Estimé</h3>
                <div class="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-4" id="predictedPrice">
                    ₹0
                </div>
                <p class="text-gray-600" id="resultMessage"></p>
            </div>
        </div>

        <!-- Error Card -->
        <div id="errorCard" class="hidden bg-red-50 border border-red-200 rounded-lg p-6 mb-6">
            <div class="flex items-center space-x-3">
                <i class="fas fa-exclamation-circle text-red-500 text-2xl"></i>
                <div>
                    <h3 class="text-lg font-semibold text-red-800">Erreur</h3>
                    <p class="text-red-600" id="errorMessage"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400">Application de prédiction de prix d'ordinateur portable • Powered by Machine Learning</p>
        </div>
    </footer>

    <script>
        const form = document.getElementById('predictionForm');
        const submitBtn = document.getElementById('submitBtn');
        const resultCard = document.getElementById('resultCard');
        const errorCard = document.getElementById('errorCard');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Hide previous results
            resultCard.classList.add('hidden');
            errorCard.classList.add('hidden');
            
            // Disable submit button and show loading
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Calcul en cours...</span>';
            
            // Get form data
            const formData = {
                brand: document.getElementById('brand').value.toLowerCase(),
                processor: document.getElementById('processor').value,
                CPU: document.getElementById('CPU').value,
                Ram: document.getElementById('Ram').value,
                Ram_type: document.getElementById('Ram_type').value,
                ROM: document.getElementById('ROM').value,
                ROM_type: document.getElementById('ROM_type').value,
                GPU: document.getElementById('GPU').value,
                OS: document.getElementById('OS').value,
                spec_rating: parseFloat(document.getElementById('spec_rating').value),
                display_size: parseFloat(document.getElementById('display_size').value),
                resolution_width: parseInt(document.getElementById('resolution_width').value),
                resolution_height: parseInt(document.getElementById('resolution_height').value)
            };
            
            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (response.ok && data.success) {
                    // Show success result
                    const price = data.predicted_price;
                    document.getElementById('predictedPrice').textContent = `₹${price.toLocaleString('en-IN', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                    document.getElementById('resultMessage').textContent = data.message;
                    resultCard.classList.remove('hidden');
                    resultCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    // Show error
                    document.getElementById('errorMessage').textContent = data.error || 'Une erreur est survenue';
                    errorCard.classList.remove('hidden');
                }
            } catch (error) {
                document.getElementById('errorMessage').textContent = 'Erreur de connexion. Veuillez réessayer.';
                errorCard.classList.remove('hidden');
            } finally {
                // Re-enable submit button
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-calculator"></i> <span>Prédire le Prix</span>';
            }
        });
    </script>
</body>
</html>

